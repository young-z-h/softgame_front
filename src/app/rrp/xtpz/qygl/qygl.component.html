<button nz-button [nzType]="'primary'" (click)="showModal1()"><span>增加</span></button>
<nz-modal [(nzVisible)]="isVisible1" nzTitle="add" (nzOnCancel)="handleCancel1()" (nzOnOk)="add()">
  <label>企业名称:&nbsp;</label> <input nz-input  [(ngModel)]="name" />
  <label>企业类型:&nbsp;</label> <div>
  <select [(ngModel)]="companyType">
    <option *ngFor="let obj of companyTypes" [ngValue]="obj">{{obj.type}}</option>
  </select>
</div>
  <label>所在省:&nbsp;</label> <input nz-input  [(ngModel)]="province" />
  <label>所在市:&nbsp;</label> <input nz-input  [(ngModel)]="city" />
  <label>详细地址:&nbsp;</label> <input nz-input  [(ngModel)]="address" />
  <label>联系人:&nbsp;</label> <input nz-input  [(ngModel)]="legalPerson" />
  <label>联系人电话:&nbsp;</label> <input nz-input  [(ngModel)]="phone" />
</nz-modal>

<nz-table #basicTable [nzData]="companys">
  <thead>
  <tr>
    <th>序号</th>
    <th>企业名称</th>
    <th>企业类型</th>
    <th>法人代表</th>
    <th>所在省</th>
    <th>所在市</th>
    <th>详细地址</th>
    <th>联系人方式</th>
    <th>操作</th>
  </tr>
  </thead>
  <tbody>
  <tr *ngFor="let data of basicTable.data">
    <td>{{ basicTable.data.indexOf(data) + 1 }}</td>
    <td>{{ data.name }}</td>
    <td>{{ data.companyType.type}}</td>
    <td>{{ data.legalPerson}}</td>
    <td>{{ data.province}}</td>
    <td>{{ data.city}}</td>
    <td>{{ data.address}}</td>
    <td>{{ data.phone}}</td>
    <td>


      <button nz-button [nzType]="'primary'" (click)="showModa2(data)"><span>所属机器人</span></button>
      <nz-modal [(nzVisible)]="isVisible2" nzTitle="update" (nzOnCancel)="handleCancel2()" (nzAfterOpen)="getRobotsByBelongingComapnyId(this.company.id)" (nzOnOk)="handleCancel2()">
        <table>
          <tr>
            <th>序号</th>
            <th>布料机器名称</th>
            <th>唯一标识</th>
            <th>使用状态</th>
            <th>操作</th>
          </tr>
          <tr *ngFor="let robot of robots">
            <td>{{robots.indexOf(robot) + 1}}</td>
            <td>{{robot.name}}</td>
            <td>{{robot.id}}</td>
            <td>{{robot.way}}</td>
            <td>
              <button nz-button nzType="primary">续费</button>
              <nz-divider nzType="vertical"></nz-divider>
              <button nz-button nzType="primary">停用</button>
            </td>
          </tr>
        </table>
      </nz-modal>


      <nz-divider nzType="vertical"></nz-divider>
      <button nz-button [nzType]="'primary'" (click)="showModal(data)"><span>机器租赁</span></button>
      <nz-divider nzType="vertical"></nz-divider>


      <button nz-button [nzType]="'primary'" (click)="showModal(data)" ><span>修改信息</span></button>
      <nz-modal [(nzVisible)]="isVisible" nzTitle="update" (nzOnCancel)="handleCancel()" (nzOnOk)="update()">
        <label>企业名称:&nbsp;</label> <input nz-input *ngIf="company" [(ngModel)]="this.company.name"/>
        <label>企业类型:&nbsp;</label> <div>
        <select [(ngModel)]="companyType">
          <option *ngFor="let obj of companyTypes" [ngValue]="obj" >{{obj.type}}</option>
        </select>
      </div>
        <label>所在省:&nbsp;</label> <input nz-input *ngIf="company" [(ngModel)]="this.company.province" />
        <label>所在市:&nbsp;</label> <input nz-input *ngIf="company" [(ngModel)]="this.company.city" />
        <label>详细地址:&nbsp;</label> <input nz-input *ngIf="company" [(ngModel)]="this.company.address" />
        <label>联系人:&nbsp;</label> <input nz-input *ngIf="company" [(ngModel)]="this.company.legalPerson" />
        <label>联系人电话:&nbsp;</label> <input nz-input *ngIf="company" [(ngModel)]="this.company.phone" />
      </nz-modal>


      <nz-divider nzType="vertical"></nz-divider>
      <button nz-button [nzType]="'primary'" (click)="delete(data)"><span>删除</span></button>
<!--      <nz-modal [(nzVisible)]="isVisible" nzTitle="update" (nzOnCancel)="handleCancel()" (nzOnOk)="update()">-->
<!--        <label>软件包名称:&nbsp;</label> <input [(ngModel)]="data.description"/>-->
<!--      </nz-modal>-->
    </td>
  </tr>
  </tbody>
</nz-table>
